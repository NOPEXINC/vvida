dependencies:
 pre:
  - bower install
 post:
  - npm install module-deps 
  - npm install gulp -g

database:
  override:
    - cp ./database.yml.ci ./database.yml
    - psql -u ubuntu circle_test < vvida.sql

machine:
  environment:
    CIRCLE_PROJECT_REPONAME: https://github.com/andela/vvida

test:
  override:
  - ./tests/server/resources/*.spec.js

deployment:
  production:
    branch: master
    heroku:
      appname: vvida
  staging:
    branch: staging
    heroku:
      appname: vvida-staging