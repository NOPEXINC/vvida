div.md-padding
  div(ng-show="categoryId" layout="row")
    a.md-subheadline(href="items") Products
    a(href="categories/{{categoryId}}/view") &nbsp;> {{categoryItems.type}}
  div(layout="row" layout-align="start center" ng-show="!categoryId")
    md-button(ng-click="toggleSidenav()" hide-gt-md aria-label="Menu")
      i.fa.fa-bars.fa-2x
    h4.md-subheadline Product Categories

div(layout="row")
  div(layout="row")
    md-sidenav.md-sidenav-left.md-whiteframe-z2(md-component-id="catNav" md-is-locked-open="$mdMedia(\"gt-md\")")
      md-toolbar
        h1.md-toolbar-tools(ng-click="resetCat()") All Categories
      md-content(layout-padding)
        md-button.btn-style(md-ink-ripple ng-repeat="category in categories" ng-click="viewCategory(category)")  {{category.type}}
        md-divider
        md-button.btn-style(md-ink-ripple hide-gt-md ng-click="close()") Close Navbar

  div(flex layout-wrap="layout-wrap" ng-if="!categoryId")
    md-subheader Recent Products 
    md-content
      div(layout-xs="column" layout="row" flex)
        md-card(flex="33" flex-sm="50" flex-md="50" ng-repeat="item in recentItems | limitTo : 6")
          img.card-images(ng-src="{{item.Images[0].img_url}}" alt="Image")
          md-card-title
            md-card-title-text 
              span.md-headline.md-padding(ng-click="viewItem(item)") {{item.name}}
          md-card-content
            div(layout="row" layout-align="start center")
              i.fa.fa-star-o(ng-repeat="i in range(maxReview(item.Reviews).rating) track by $index")
              h4.md-subheader &nbsp;&nbsp;{{item.Reviews.length}} reviews
            blockquote(layout-wrap)
              p {{maxReview(item.Reviews).review}}   
              span - {{maxReview(item.Reviews).User.username}}
          md-card-actions(layout="row" layout-align="start center")
            md-button.md-accent(ng-click="viewItem(item)") Add Review

  md-content(ng-if="categoryId" ng-init="getCategory()")
    md-list
      md-list-item.md-3-line(ng-repeat="item in categoryItems.Items")
        img.face(ng-src="{{item.Images[0].img_url}}")
        .md-list-item-text
          div(layout="row" layout-margin)
            div.md-padding
              h3(ng-click="viewItem(item)") {{$index + 1}}. {{item.name}} 
              div(layout="row" layout-align="start center" layout-padding)
                i.fa.fa-star-o(ng-repeat="i in range(maxReview(item.Reviews).rating) track by $index")
                h4.md-subheader &nbsp;&nbsp;{{item.Reviews.length}} reviews
              h3(ng-click="viewItem(item)") Add Review
            div.md-padding(layout-align="start center" layout-margin)
              h4 {{item.city}}
          md-divider(md-inset ng-if="!$last")